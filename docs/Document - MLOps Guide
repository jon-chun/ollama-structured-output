# MLOps Guide for Setup and Maintenance

1.
2. (venv) jonc@jonc-MS-7C35:~/code/ollama-structured-output/src$ python step1_run_inferences_over_models_ver5_working-clean_json.py 

Watch new files created in the directory in real-time
```
inotifywait -m . -e create -e moved_to | while read dir action file; do 
    echo "New file: $file (Total: $(find . -type f | wc -l))"
done

python step1_run_inferences_over_models_ver5_working-clean_json.py
```

# TODO

- pull all interal globals into centralized config.yaml


# Local Operation:

## NVIDIA:

sudo nvidia-smi -i 1 -pl 300

# Remote Operations

## Runpod.io


# Python Setup

source venv/bin/activate
pip install -r requirements.txt

# Ollama Setup

get latest 
pull models


# Program Execution

## Inputs


## Outputs

## Files

main.py
decision_ver6.py
models.py
prompt_manager.py
data_manager.py (manager.py?)
metrics.py
performance.py
setup.py
config.py


## Execution

Restartable

## Program Flow

### Config

config.yaml
config_reference.yaml

### STEP 0: Preprocess Data

ibm_nd_eda_Accelerated_Data_Analysis_20250111.ipynb

### STEP 1: Inference

main.py -> 
step1_run_inferences_over_models.py

### STEP 2: Compile Results

evaluation_results_ver3 ->
step2_aggregate_inferences.py

util_filter_csv_data_ver1.py
util_create_text_summary.py
util_aggregate_reports_ver5.py


### STEP 3: Analysis and Visualization

? evaluation_results_ver3

util_visualize_aggregate_reports_ver2.py


### Incomplete:

vectorize_data_clean_ver1.py
extract_dataset_clusters_ver4.py
vignette_cluster_emb-1.csv

get_feature_importance_shap_ver1.py

utils_debate.py


(venv) jonc@jonc-MS-7C35:~/code/ollama-structured-output$ ls -altr
total 163072
-rw-rw-r--   1 jonc jonc      1065 Jan  2 19:11 LICENSE
-rw-rw-r--   1 jonc jonc      3415 Jan  2 19:11 .gitignore
-rw-rw-r--   1 jonc jonc      1159 Jan  3 00:09 models_ver1.py
-rw-rw-r--   1 jonc jonc      3724 Jan  3 00:10 openai_api_ver.py
-rw-rw-r--   1 jonc jonc      1911 Jan  3 00:10 vision_example.py
-rw-rw-r--   1 jonc jonc      2678 Jan  3 00:10 main_original.py
drwxrwxr-x   2 jonc jonc      4096 Jan  3 00:15 ollama-structured-output
-rw-rw-r--   1 jonc jonc      3929 Jan  3 00:38 ollama_json.py
-rw-rw-r--   1 jonc jonc         0 Jan  3 00:44 ollama_structured_praison.py
-rw-rw-r--   1 jonc jonc      1058 Jan  3 00:55 test3.py
-rw-rw-r--   1 jonc jonc       693 Jan  3 01:05 openai_structured_response.py
-rw-rw-r--   1 jonc jonc       533 Jan  3 01:05 ollama_only.py
-rw-rw-r--   1 jonc jonc      4720 Jan  3 01:15 main_decision_ver1.py
-rw-rw-r--   1 jonc jonc     12172 Jan  3 01:44 main_decision_ver2.py
-rw-rw-r--   1 jonc jonc      6671 Jan  3 12:20 main_decision_ver3.py
-rw-rw-r--   1 jonc jonc     16282 Jan  3 13:08 main_decision_ver4.py
-rw-rw-r--   1 jonc jonc     16283 Jan  3 13:26 main_decision_ver5.py
-rw-rw-r--   1 jonc jonc         0 Jan  3 13:26 main_decision_ver6.py
-rw-rw-r--   1 jonc jonc       807 Jan  3 13:37 report_performance_stats.txt
-rw-rw-r--   1 jonc jonc       645 Jan  3 13:37 report_performance_stats.json
-rw-rw-r--   1 jonc jonc     22381 Jan  3 13:57 main_decision_ver7.py
-rw-rw-r--   1 jonc jonc     24109 Jan  3 14:03 main_decision_ver9.py
-rw-rw-r--   1 jonc jonc     24208 Jan  3 14:15 main_decision_ver8.py
-rw-rw-r--   1 jonc jonc     25612 Jan  3 14:37 main_decision_ver10.py
-rw-rw-r--   1 jonc jonc         0 Jan  3 14:44 main_decision_ver11.py
-rw-rw-r--   1 jonc jonc      1667 Jan  3 15:08 config_ver1.yaml
-rw-rw-r--   1 jonc jonc      3865 Jan  3 15:25 config_ver1-5.yaml
-rw-rw-r--   1 jonc jonc      1859 Jan  3 15:44 aggregate_stats_20250103_154405.json
-rw-rw-r--   1 jonc jonc      1042 Jan  3 15:44 aggregate_report_20250103_154405.txt
-rw-rw-r--   1 jonc jonc     38015 Jan  3 16:02 main_decision_ver12_openai.py
-rw-rw-r--   1 jonc jonc      2032 Jan  3 23:13 utils_ver1.py
-rw-rw-r--   1 jonc jonc      3058 Jan  3 23:13 music_album_detials.py
-rw-rw-r--   1 jonc jonc     15936 Jan  3 23:14 main_decision_ver12_gemini.py
-rw-rw-r--   1 jonc jonc     54640 Jan  3 23:14 main_decision_ver14.py
-rw-rw-r--   1 jonc jonc       784 Jan  3 23:18 setup.py
drwxrwxr-x   2 jonc jonc      4096 Jan  3 23:57 llm_decisions.egg-info
-rw-rw-r--   1 jonc jonc       870 Jan  4 00:47 aggregate_stats_20250104_004725.json
-rw-rw-r--   1 jonc jonc       480 Jan  4 00:47 aggregate_report_20250104_004725.txt
-rw-rw-r--   1 jonc jonc     54640 Jan  4 00:47 main_decision_ver13.py
-rw-rw-r--   1 jonc jonc     18066 Jan  4 00:48 llm_decisions_moved.py
-rw-rw-r--   1 jonc jonc     41408 Jan  4 00:50 llm_decisions.log
-rw-rw-r--   1 jonc jonc       870 Jan  4 00:50 aggregate_stats_20250104_005048.json
-rw-rw-r--   1 jonc jonc       480 Jan  4 00:50 aggregate_report_20250104_005048.txt
-rw-rw-r--   1 jonc jonc     39344 Jan  4 00:55 llm_decision_ver1.py
-rw-rw-r--   1 jonc jonc     17170 Jan  4 02:07 llm_decision_ver1_openai.py
-rw-rw-r--   1 jonc jonc       959 Jan  4 02:23 aggregate_stats_20250104_022354.json
-rw-rw-r--   1 jonc jonc       531 Jan  4 02:23 aggregate_report_20250104_022354.txt
-rw-rw-r--   1 jonc jonc       963 Jan  4 03:03 aggregate_stats_20250104_030358.json
-rw-rw-r--   1 jonc jonc       531 Jan  4 03:03 aggregate_report_20250104_030358.txt
-rw-rw-r--   1 jonc jonc       963 Jan  4 03:23 aggregate_stats_20250104_032340.json
-rw-rw-r--   1 jonc jonc       531 Jan  4 03:23 aggregate_report_20250104_032340.txt
-rw-rw-r--   1 jonc jonc      3502 Jan  4 13:41 llm_decision.md
-rw-rw-r--   1 jonc jonc      3008 Jan  4 15:04 config_ver1-75.yaml
-rw-rw-r--   1 jonc jonc     45941 Jan  4 15:06 llm_decision_ver2.py
-rw-rw-r--   1 jonc jonc   2517915 Jan  4 15:10 decision_system.log
-rw-rw-r--   1 jonc jonc       777 Jan  4 15:10 aggregate_stats_20250104_151030.json
-rw-rw-r--   1 jonc jonc       591 Jan  4 15:10 aggregate_report_20250104_151030.txt
-rw-rw-r--   1 jonc jonc     13916 Jan  4 15:31 llm_decision.py
-rw-rw-r--   1 jonc jonc      1402 Jan  4 15:33 config_ver2.yaml
-rw-rw-r--   1 jonc jonc      1286 Jan  4 15:38 README.md
-rw-rw-r--   1 jonc jonc      1321 Jan  4 15:42 manager.py
-rw-rw-r--   1 jonc jonc      1834 Jan  4 15:48 models_ver2.py
-rw-rw-r--   1 jonc jonc      1252 Jan  4 16:07 metrics.py
-rw-rw-r--   1 jonc jonc      1359 Jan  4 19:37 metrics_llama3.2:1b-instruct-q4_K_M_system1_20250104_193708.json
-rw-rw-r--   1 jonc jonc      1268 Jan  4 19:37 report_llama3.2:1b-instruct-q4_K_M_system1_20250104_193708.txt
-rw-rw-r--   1 jonc jonc      1265 Jan  4 19:37 report_llama3.2:1b-instruct-q4_K_M_cot_20250104_193715.txt
-rw-rw-r--   1 jonc jonc      1346 Jan  4 19:37 metrics_llama3.2:1b-instruct-q4_K_M_cot_20250104_193715.json
-rw-rw-r--   1 jonc jonc       408 Jan  4 19:37 aggregate_stats_20250104_193715.json
-rw-rw-r--   1 jonc jonc       653 Jan  4 19:37 aggregate_report_20250104_193715.txt
drwxrwxr-x   3 jonc jonc      4096 Jan  4 19:52 evaluation_results_ver1
-rw-rw-r--   1 jonc jonc      1277 Jan  4 19:52 report_llama3.2:1b-instruct-q4_K_M_system1_20250104_195257.txt
-rw-rw-r--   1 jonc jonc      1405 Jan  4 19:52 metrics_llama3.2:1b-instruct-q4_K_M_system1_20250104_195257.json
-rw-rw-r--   1 jonc jonc      1271 Jan  4 19:53 report_llama3.2:1b-instruct-q4_K_M_cot_20250104_195328.txt
-rw-rw-r--   1 jonc jonc      1394 Jan  4 19:53 metrics_llama3.2:1b-instruct-q4_K_M_cot_20250104_195328.json
-rw-rw-r--   1 jonc jonc       410 Jan  4 19:53 aggregate_stats_20250104_195328.json
-rw-rw-r--   1 jonc jonc       656 Jan  4 19:53 aggregate_report_20250104_195328.txt
-rw-rw-r--   1 jonc jonc      4676 Jan  5 02:13 config_ver6.yaml
-rw-rw-r--   1 jonc jonc       802 Jan  5 02:29 config_ver6.py
-rw-rw-r--   1 jonc jonc      1055 Jan  5 03:05 config_ver7.py
-rw-rw-r--   1 jonc jonc     13679 Jan  5 03:12 data_manager_ver7.py
-rw-rw-r--   1 jonc jonc      7808 Jan  5 03:13 main_ver5.py
-rw-rw-r--   1 jonc jonc      9526 Jan  5 03:13 main_ver7.py
-rw-rw-r--   1 jonc jonc      8880 Jan  5 03:13 main_ver6.py
-rw-rw-r--   1 jonc jonc     39344 Jan  5 06:11 main_decision_ver12.py
-rw-rw-r--   1 jonc jonc      4520 Jan  5 06:20 utils_8.py
drwxrwxr-x   3 jonc jonc      4096 Jan  5 06:29 evaluation_results_ver3
-rw-rw-r--   1 jonc jonc     12629 Jan  5 13:38 config_20250105_ver1.yaml
-rw-rw-r--   1 jonc jonc     15177 Jan  6 05:30 main_ver8.py
-rw-rw-r--   1 jonc jonc     11951 Jan  6 05:32 decision_ver8.py
-rw-rw-r--   1 jonc jonc     12292 Jan  6 05:32 decision_ver6.py
-rw-rw-r--   1 jonc jonc     10651 Jan  6 05:32 decision_ver5.py
drwxrwxr-x   2 jonc jonc      4096 Jan  6 05:58 tests
drwxrwxr-x   7 jonc jonc      4096 Jan  6 06:08 llm_decisions
-rw-rw-r--   1 jonc jonc      6367 Jan  6 06:17 pyproject.toml
-rw-rw-r--   1 jonc jonc     14651 Jan  6 07:38 data_manager.py
drwxrwxr-x   7 jonc jonc      4096 Jan  6 08:05 evaluation_results-20250105-5per
drwxrwxr-x   2 jonc jonc     49152 Jan  6 08:33 metrics
-rw-rw-r--   1 jonc jonc     18304 Jan  6 08:51 performance.py
-rw-rw-r--   1 jonc jonc      2892 Jan  6 18:00 prompt_manager.py
drwxrwxr-x  53 jonc jonc      4096 Jan  6 18:01 evaluation_results_20540105-90per
drwxrwxr-x   6 jonc jonc      4096 Jan  6 18:01 evaluation_results_ver2
-rw-rw-r--   1 jonc jonc      1799 Jan  6 21:21 config.py
-rw-rw-r--   1 jonc jonc      1711 Jan  6 21:21 config_new.yaml
drwxrwxr-x   4 jonc jonc      4096 Jan  6 21:21 evaluation_results
-rw-rw-r--   1 jonc jonc      9516 Jan  6 21:21 utils_ver9.py
-rw-rw-r--   1 jonc jonc      1200 Jan  6 21:21 models.py
-rw-rw-r--   1 jonc jonc     15804 Jan  6 21:37 decision.py
drwxrwxr-x   9 jonc jonc      4096 Jan  6 22:29 evaluation_results_long_20250107
-rw-rw-r--   1 jonc jonc     18508 Jan  7 14:51 ollama-model-list.txt
-rw-rw-r--   1 jonc jonc      2943 Jan  7 14:54 bad-disk-blocks-nvme1n1-20250107.txt
-rw-rw-r--   1 jonc jonc     12841 Jan  7 15:07 utils.py
drwxrwxr-x   2 jonc jonc      4096 Jan  7 15:15 __pycache__
-rw-rw-r--   1 jonc jonc     18869 Jan  8 03:54 main.py
-rw-rw-r--   1 jonc jonc     13641 Jan  8 15:58 config_reference.yaml
-rw-rw-r--   1 jonc jonc     11119 Jan 10 14:43 extract_dataset_clusters_ver2.py
-rw-rw-r--   1 jonc jonc      4824 Jan 10 15:16 extract_dataset_clusters_ver0.py
-rw-rw-r--   1 jonc jonc     14036 Jan 10 15:21 extract_dataset_clusters_ver3.py
-rw-rw-r--   1 jonc jonc     13719 Jan 10 15:24 extract_dataset_clusters_ver4.py
-rw-rw-r--   1 jonc jonc     86930 Jan 10 15:25 vignette_cluster_emb-1.csv
-rw-rw-r--   1 jonc jonc    172698 Jan 10 15:25 vignette_cluster_emb-2.csv
-rw-rw-r--   1 jonc jonc    187204 Jan 10 15:25 vignette_cluster_emb-3.csv
-rw-rw-r--   1 jonc jonc     33823 Jan 10 15:25 vignette_cluster_emb-4.csv
-rw-rw-r--   1 jonc jonc    269088 Jan 10 15:25 vignette_cluster_emb-5.csv
-rw-rw-r--   1 jonc jonc    418725 Jan 10 15:25 vignette_cluster_diff-1.csv
-rw-rw-r--   1 jonc jonc    149449 Jan 10 15:25 vignette_cluster_diff-2.csv
-rw-rw-r--   1 jonc jonc     84586 Jan 10 15:25 vignette_cluster_diff-3.csv
-rw-rw-r--   1 jonc jonc     33960 Jan 10 15:25 vignette_cluster_diff-4.csv
-rw-rw-r--   1 jonc jonc     65902 Jan 10 15:25 vignette_cluster_diff-5.csv
-rw-rw-r--   1 jonc jonc         0 Jan 10 15:47 extract_dataset_clusters_ver5.py
-rw-rw-r--   1 jonc jonc      1316 Jan 10 16:04 data_cleaning.log
-rw-rw-r--   1 jonc jonc     10468 Jan 10 16:10 vectorize_data_clean_ver1.py
-rw-rw-r--   1 jonc jonc      7523 Jan 10 16:10 vectorize_data_clean_ver2.py
-rw-rw-r--   1 jonc jonc     10681 Jan 10 16:15 vectorize_data_clean_ver3.py
-rw-rw-r--   1 jonc jonc     14913 Jan 10 16:20 vectorize_data_clean_ver4.py
drwxrwxr-x   2 jonc jonc      4096 Jan 10 16:20 logs
-rw-rw-r--   1 jonc jonc     18683 Jan 10 16:24 vectorize_data_clean_ver5.py
-rw-rw-r--   1 jonc jonc     17958 Jan 10 16:33 vectorize_data_clean_ver6.py
drwxrwxr-x   6 jonc jonc      4096 Jan 10 16:39 venv
-rw-rw-r--   1 jonc jonc     24524 Jan 10 16:42 vectorize_data_clean_o1_ver7.py
-rw-rw-r--   1 jonc jonc  16725896 Jan 10 18:33 ibm_nd_eda_Accelerated_Data_Analysis_20241204.ipynb
-rw-rw-r--   1 jonc jonc    104479 Jan 10 18:36 ibm_nd_eda_Accelerated_Data_Analysis_20241204.txt
-rw-rw-r--   1 jonc jonc  13987778 Jan 11 01:13 ibm_nd_eda_Accelerated_Data_Analysis_20250111.ipynb
drwxrwxr-x 144 jonc jonc     12288 Jan 12 01:24 evaluation_results_short_20250108
drwxrwxr-x 143 jonc jonc     12288 Jan 12 11:34 evaluation_results_long_20250110
-rw-rw-r--   1 jonc jonc      1986 Jan 12 11:40 get_feature_importance_shap_ver1.py
-rw-rw-r--   1 jonc jonc       293 Jan 12 11:41 requirements_ver2.txt
-rw-rw-r--   1 jonc jonc      8647 Jan 12 11:49 get_feature_importance_shap_ver2.py
-rw-rw-r--   1 jonc jonc     10861 Jan 12 12:22 get_feature_importance_shap_ver3.py
-rw-rw-r--   1 jonc jonc     11968 Jan 12 12:22 get_feature_importance_shap_ver4.py
-rw-rw-r--   1 jonc jonc     17023 Jan 12 12:45 get_feature_importance_shap_ver5.py
-rw-rw-r--   1 jonc jonc       169 Jan 12 12:49 test_venv_xgboost.py
drwxrwxr-x   6 jonc jonc      4096 Jan 12 12:56 shap_env
-rw-rw-r--   1 jonc jonc     13643 Jan 12 13:02 get_feature_importance_shap_ver6.py
-rw-rw-r--   1 jonc jonc     15972 Jan 12 13:07 get_feature_importance_shap_ver7.py
-rw-rw-r--   1 jonc jonc     14688 Jan 12 13:26 get_feature_importance_shap_ver8.py
-rw-rw-r--   1 jonc jonc      2125 Jan 12 13:27 debug.log
-rw-rw-r--   1 jonc jonc      3791 Jan 12 13:50 util_filter_csv_data_ver1.py
-rw-rw-r--   1 jonc jonc      2853 Jan 12 13:54 util_create_text_summary.py
-rw-rw-r--   1 jonc jonc      8727 Jan 12 15:51 util_aggregate_reports_ver1.py
-rw-rw-r--   1 jonc jonc      8727 Jan 12 15:55 util_aggregate_reports_ver2.py
drwxrwxr-x   3 jonc jonc      4096 Jan 12 16:01 aggregate_reports
-rw-rw-r--   1 jonc jonc     11199 Jan 12 16:02 util_aggregate_reports_ver3.py
-rw-rw-r--   1 jonc jonc     10224 Jan 12 16:10 util_aggregate_reports_ver4.py
-rw-rw-r--   1 jonc jonc   1945518 Jan 12 16:10 log_aggregate_reports_20250112_161024.txt
-rw-rw-r--   1 jonc jonc     75873 Jan 12 16:18 log_aggregate_reports_20250112_161810.txt
-rw-rw-r--   1 jonc jonc   2141719 Jan 12 16:19 log_aggregate_reports_20250112_161947.txt
-rw-rw-r--   1 jonc jonc     11619 Jan 12 16:26 util_aggregate_reports_ver5.py
-rw-rw-r--   1 jonc jonc   2141714 Jan 12 16:27 log_aggregate_reports_20250112_162706.txt
drwxrwxr-x   8 jonc jonc      4096 Jan 12 16:28 data
-rw-rw-r--   1 jonc jonc      7869 Jan 12 16:28 util_visualize_aggregate_reports_ver1.py
-rw-rw-r--   1 jonc jonc     10646 Jan 12 16:38 util_visualize_aggregate_reports_ver2.py
drwxrwxr-x  25 jonc jonc      4096 Jan 13 12:21 ..
-rw-rw-r--   1 jonc jonc      1432 Jan 13 16:53 utils_debate.py
drwxrwxr-x 135 jonc jonc     12288 Jan 13 23:22 evaluation_results_features-top5_20250112
-rw-rw-r--   1 jonc jonc 124098369 Jan 13 23:22 evaluation.log
-rw-rw-r--   1 jonc jonc      1027 Jan 15 03:43 requirements.txt
-rw-rw-r--   1 jonc jonc     18530 Jan 15 14:33 config.yaml
drwxrwxr-x  26 jonc jonc     16384 Jan 15 14:34 .
drwxrwxr-x   6 jonc jonc      4096 Jan 15 14:34 evaluation_results_long_h100_20250115
drwxrwxr-x   8 jonc jonc      4096 Jan 16 13:56 .git
drwxrwxr-x   2 jonc jonc      4096 Jan 16 14:15 docs



